#include <REGX52.H>
#include "74HC595.h"


unsigned char code animation[]={
    0x00,0x00,0x00,0x00,0x00,0x00,0x00,0x00,
    0xFF,0x10,0x10,0x10,0x10,0xFF,0x00,0x1E,0x21,0x21,0x21,0x1E,0x03,0x00,0x1F,0x20,
    0x20,0x1F,0x20,0x20,0x1F,0x00,0x1E,0x21,0x21,0x21,0x1E,0x00,0x1E,0x21,0x21,0x21,
    0x1E,0x00,0x0E,0x11,0x11,0xFE,0x01,0x40,0x80,0x8D,0x90,0x60,0x00,0x00,0x00,0x00,
    0x00,0x00,0x00,0x00
};

int main(){
    unsigned char i,offset=0,cnt=0;
    matrixLED_init();
    while(1){
        for(i=0;i<8;i++){
            matrixLED_writeColumn(i,animation[i+offset]);
        }
        cnt++;
        if(cnt>15)
        {
            cnt=0;
            offset++;
            if(offset>(sizeof animation)-8) offset=0;
        }
    }
}